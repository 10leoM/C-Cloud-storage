M1（路由 + 响应能力补完）

路由层：实现 RouteTrie（支持静态 + :param + 通配），方法→Handler 映射，集成到 HttpServer。
增加 HttpHandler 接口（签名：Request+Response+Conn，可返回同步/异步）。
HttpResponse：补 206 Partial、Accept-Ranges、Content-Length/Range 组合计算、直接 appendToBuffer 支持部分区间。
Range 响应闭环：检测请求 Range → 校验有效性 → 206 → 分块/一次性发送策略。
统一错误返回：400/401/403/404/416/500（小型枚举 + 工具函数）。

M2（文件直传与基础账号）
静态文件服务（支持缓存 Header：Last-Modified / ETag 简化 MD5）。
简单用户体系：UserDAO（抽象接口）+ SQLite/MySQL 任选实现；注册/登录（SHA256+盐）。
Session 机制：内存 Map + 过期扫描（后续可落 DB），Set-Cookie: session_id=...。
基础文件操作：PUT/POST 上传（临时仅 Content-Length 单体）、GET 下载、DELETE 删除、列表。
目录与路径安全：防目录穿越检查（'..' / 绝对路径拒绝）。

M3（Multipart 上传 + 大文件支持）
Multipart 解析器（流式：边界扫描状态机，直接写磁盘）。
上传策略：大文件分块写 + 失败清理 + 临时文件后 rename。
客户端分块续传（可选简单：前端拆分多段 + 标号 + 服务端聚合）。
ETag 生成策略（MD5 全文件，或分块 MD5 合并）。
秒传接口：HEAD /hash 查询是否存在。

M4（分享与增强）
分享数据表 + 分享码（随机 6~8 字符）+ 访问次数/过期时间。
分享鉴权（提取码校验 + 过期判断）。
权限模型：用户只能操作自己文件，分享可读。
JSON 统一输出封装（简易 JSON builder，避免重复手拼）。

M5（健壮性 & 观测提升）
读写超时 / Slowloris：header 解析阶段计时 + 每读增量必须在窗口内。
连接 / 每 IP / 全局速率 限流。
Metrics 框架：原子计数器 + /metrics JSON 输出（QPS / ActiveConn / BytesIn/Out / Error4xx5xx）。
日志关联请求 ID（生成 UUID 或简易自增 + 线程本地存储）。

M6（性能与可靠性进阶，可超越 WebMem）
sendfile / splice (Linux) 大文件下行。
mmap + 分块 hash 预热。
异步写（线程池 + 顺序落盘 + WAL 元数据日后扩展）。
分段上传真正的 Multipart/ETag 校验与断点合并。